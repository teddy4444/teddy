<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‚˜ì˜ ì²« ìˆ˜ìµ ë©”ì´íŠ¸ ë§¤ì¹­</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700;800&display=swap');
        
        :root {
            --point-color: #3CCCD4; 
            --point-secondary: #6366F1;
            --bg-white: #FFFFFF;
            --btn-bg: rgba(147, 51, 234, 0.1);
            --btn-text: #7C3AED;
        }

        body { 
            font-family: 'Pretendard', sans-serif; 
            background-color: #F9FAFB; 
            color: #1F2937;
            display: flex; align-items: center; justify-content: center; min-height: 100vh; margin: 0;
        }

        .main-card {
            width: 100%; max-width: 480px; min-height: 850px;
            background: var(--bg-white); border-radius: 3.5rem;
            box-shadow: 0 40px 100px -20px rgba(60, 204, 212, 0.12);
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            padding: 4rem 1.5rem; position: relative; border: 1px solid rgba(60, 204, 212, 0.08);
        }

        .step { display: none; width: 100%; flex-direction: column; align-items: center; text-align: center; }
        .step.active { display: flex; animation: fadeIn 0.6s ease-out; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .animated-title {
            background: linear-gradient(90deg, #3CCCD4, #6366F1, #3CCCD4);
            background-size: 200% auto;
            color: transparent; -webkit-background-clip: text; background-clip: text;
            animation: gradientMove 4s linear infinite; display: inline-block;
        }
        @keyframes gradientMove { to { background-position: 200% center; } }

        .glass-orb {
            width: 160px; height: 160px; border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 1) 0%, rgba(60, 204, 212, 0.3) 30%, rgba(147, 51, 234, 0.2) 60%, rgba(59, 130, 246, 0.1) 100%);
            box-shadow: inset -10px -10px 30px rgba(60, 204, 212, 0.2), inset 10px 10px 30px rgba(255, 255, 255, 0.8), 0 20px 50px rgba(60, 204, 212, 0.1);
            backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
            position: relative; margin: 2rem 0; animation: float 4s infinite ease-in-out;
        }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }

        .tarot-grid-3x2 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.6rem; width: 100%; margin-top: 1rem; }
        .option-grid-vertical { display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.6rem; width: 100%; margin-top: 1rem; }

        .tarot-card {
            background: #FFFFFF; border: 2px solid #F3F4F6; border-radius: 1.25rem;
            aspect-ratio: 1 / 1.4; display: flex; flex-direction: column; align-items: center; justify-content: center;
            padding: 0.5rem; cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .tarot-card:hover { border-color: var(--point-color); background: #f0fdfe; transform: translateY(-5px); }
        .tarot-card span.label { font-size: 0.75rem; font-weight: 800; color: #4B5563; margin-top: 0.5rem; line-height: 1.2; }

        .capsule-button {
            background-color: var(--btn-bg); color: var(--btn-text);
            border-radius: 9999px; width: 100%; padding: 1.1rem;
            font-weight: 700; font-size: 1.1rem; transition: all 0.2s ease; margin-top: 1.5rem;
        }
        .capsule-button:hover { background-color: rgba(147, 51, 234, 0.15); transform: scale(1.02); }

        #progress-bar { transition: width 0.4s ease; background: linear-gradient(90deg, #3CCCD4 0%, #7C3AED 100%); }
        .choice-summary { background-color: #F9FAFB; border-radius: 1.5rem; width: 100%; padding: 1.5rem; margin-top: 2rem; border: 1px dashed rgba(60, 204, 212, 0.2); text-align: center; }
    </style>
</head>
<body>

<div id="app" class="main-card">
    <div id="progress-container" class="absolute top-10 left-0 w-full px-10 hidden">
        <div class="flex justify-between items-center mb-2 px-1">
            <span class="text-[11px] font-bold text-[#3CCCD4] uppercase tracking-widest">ë§¤ì¹­ ì§„í–‰ë¥ </span>
            <span id="percent-text" class="text-[11px] font-bold text-[#3CCCD4]">0%</span>
        </div>
        <div class="w-full bg-gray-100 h-1.5 rounded-full overflow-hidden">
            <div id="progress-bar" class="h-full w-0 shadow-[0_0_8px_rgba(60,204,212,0.4)]"></div>
        </div>
    </div>

    <div id="step-0" class="step active">
        <h1 class="text-[26px] font-extrabold mb-2 leading-tight tracking-tight animated-title">ë‚˜ì˜ ì²« ìˆ˜ìµ ë©”ì´íŠ¸ ë§¤ì¹­</h1>
        <div class="glass-orb"></div>
        <p class="text-gray-500 text-[15px] mb-2 leading-relaxed font-medium">ìµœê·¼ ë‹¹ì‹ ì´ ê¸°ë¡í•œ ì„ ëª…í•œ ê¸°ì–µì„ ë¶„ì„í•˜ì—¬<br>ìµœì ì˜ ìˆ˜ìµ íŒŒíŠ¸ë„ˆë¥¼ ì—°ê²°í•´ ë“œë¦´ê²Œìš”.</p>
        <button onclick="startTest()" class="capsule-button">ë§¤ì¹­ ì‹œì‘í•˜ê¸° âœ¨</button>
    </div>

    <div id="step-1" class="step">
        <h2 class="text-[20px] font-bold mb-8 text-gray-800 animated-title">ìµœê·¼ ì´ìš©í•œ ìƒí’ˆ ì¤‘<br>ê¸°ì–µì— ë‚¨ì€ í•œ ê°€ì§€ëŠ”?</h2>
        <div class="tarot-grid-3x2">
            <div onclick="save('q1', 'ìˆ™ì†Œ', 'ğŸ¨')" class="tarot-card"><span>ğŸ¨</span><span class="label">ìˆ™ì†Œ</span></div>
            <div onclick="save('q1', 'íˆ¬ì–´', 'ğŸ¡')" class="tarot-card"><span>ğŸ¡</span><span class="label">ì•¡í‹°ë¹„í‹°</span></div>
            <div onclick="save('q1', 'ë¦¬ë¹™', 'ğŸ›‹ï¸')" class="tarot-card"><span>ğŸ›‹ï¸</span><span class="label">ì¸í…Œë¦¬ì–´</span></div>
            <div onclick="save('q1', 'í•­ê³µ', 'âœˆï¸')" class="tarot-card"><span>âœˆï¸</span><span class="label">í•­ê³µê¶Œ</span></div>
            <div onclick="save('q1', 'ìœ ì‹¬', 'ğŸ“±')" class="tarot-card"><span>ğŸ“±</span><span class="label">ìœ ì‹¬</span></div>
            <div onclick="save('q1', 'ë Œí„°ì¹´', 'ğŸš—')" class="tarot-card"><span>ğŸš—</span><span class="label">ë Œí„°ì¹´</span></div>
        </div>
    </div>

    <div id="step-2" class="step">
        <h2 class="text-[20px] font-bold mb-8 text-gray-800 animated-title">ê·¸ ê²½í—˜ì˜ ê°€ì¥ í° ë§¤ë ¥ì€?</h2>
        <div class="option-grid-vertical">
            <div onclick="save('q2', 'ê²½ì œì„±', 'ğŸ’°')" class="tarot-card"><span>ğŸ’°</span><span class="label">ê²½ì œì <br>ê°€ê²©</span></div>
            <div onclick="save('q2', 'ì‹¬ë¯¸ì„±', 'âœ¨')" class="tarot-card"><span>âœ¨</span><span class="label">ë¶„ìœ„ê¸°<br>ê°ì„±</span></div>
            <div onclick="save('q2', 'í¸ì˜ì„±', 'ğŸ› ï¸')" class="tarot-card"><span>ğŸ› ï¸</span><span class="label">í¸ë¦¬í•œ<br>ì´ìš©</span></div>
        </div>
    </div>

    <div id="step-3" class="step">
        <h2 class="text-[20px] font-bold mb-8 text-gray-800 animated-title">ì–´ë–¤ ìŠ¤íƒ€ì¼ë¡œ ê¸°ë¡í• ê¹Œìš”?</h2>
        <div class="option-grid-vertical">
            <div onclick="save('q3', 'ë¹„ì£¼ì–¼', 'ğŸ“¸')" class="tarot-card"><span>ğŸ“¸</span><span class="label">ë¹„ì£¼ì–¼<br>ì¤‘ì‹¬</span></div>
            <div onclick="save('q3', 'ì •ë³´ì „ë‹¬', 'ğŸ”')" class="tarot-card"><span>ğŸ”</span><span class="label">ìƒì„¸í•œ<br>ì •ë³´</span></div>
            <div onclick="save('q3', 'í›„ê¸°', 'ğŸ’¬')" class="tarot-card"><span>ğŸ’¬</span><span class="label">ì§„ì†”í•œ<br>í›„ê¸°</span></div>
        </div>
    </div>

    <div id="step-result" class="step">
        <div class="mb-2 text-[#3CCCD4] text-[12px] font-black tracking-widest uppercase" id="persona-name"></div>
        <h2 id="final-brand" class="text-[40px] font-black mb-8 text-gray-900 tracking-tighter leading-tight"></h2>
        
        <div class="grid grid-cols-3 gap-3 w-full mb-8">
            <div class="bg-gray-50 py-4 rounded-2xl border border-gray-100"><p class="text-[10px] text-gray-400 font-bold mb-1">ìˆ˜ìµìš´</p><p class="font-extrabold text-[#3CCCD4] text-lg">ëŒ€ë°•</p></div>
            <div class="bg-gray-50 py-4 rounded-2xl border border-gray-100"><p class="text-[10px] text-gray-400 font-bold mb-1">ì˜í–¥ë ¥</p><p class="font-extrabold text-[#3CCCD4] text-lg">ìµœìƒ</p></div>
            <div class="bg-gray-50 py-4 rounded-2xl border border-gray-100"><p class="text-[10px] text-gray-400 font-bold mb-1">ê¶í•©ë„</p><p class="font-extrabold text-[#3CCCD4] text-lg"><span id="match-rate"></span></p></div>
        </div>

        <button onclick="location.reload()" class="capsule-button">ì²« ë§í¬ ìƒì„±í•˜ëŸ¬ ê°€ê¸° ğŸ”—</button>

        <div class="choice-summary">
            <p class="text-[11px] font-black text-[#3CCCD4] uppercase mb-2">ë‚˜ì˜ ì„ íƒ ë¦¬í¬íŠ¸</p>
            <p id="user-review" class="text-[13px] font-semibold text-gray-600 leading-relaxed"></p>
        </div>
    </div>
</div>

<script>
    let answers = {};
    function startTest() { document.getElementById('progress-container').classList.remove('hidden'); nextStep(1); }
    function nextStep(n) {
        document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
        const targetId = (n === 'result' ? 'step-result' : 'step-' + n);
        document.getElementById(targetId).classList.add('active');
        const progressMap = { 1: 33, 2: 66, 3: 100, 'result': 100 };
        document.getElementById('progress-bar').style.width = (progressMap[n] || 0) + '%';
        document.getElementById('percent-text').innerText = (progressMap[n] || 0) + '%';
    }
    function save(q, val, icon) {
        answers[q] = { text: val, icon: icon };
        const cur = parseInt(q.charAt(1));
        if (cur < 3) nextStep(cur + 1); else calculate();
    }
    function calculate() {
        let brand = ""; let persona = "";
        const q1 = answers.q1.text; const q2 = answers.q2.text; const q3 = answers.q3.text;

        document.getElementById('user-review').innerHTML = `ìµœê·¼ <span class="text-gray-900 font-bold">${answers.q1.icon} ${q1}</span> ìƒí’ˆì˜ <span class="text-gray-900 font-bold">${answers.q2.icon} ${q2}</span>ì— ë§¤ë ¥ì„ ëŠë¼ê³ , <span class="text-gray-900 font-bold">${answers.q3.icon} ${q3}</span> ìŠ¤íƒ€ì¼ì˜ ê¸°ë¡ì„ ì¤€ë¹„ ì¤‘ì´ì‹œêµ°ìš”.`;

        if (q1 === 'ìˆ™ì†Œ') {
            brand = (q2 === 'ì‹¬ë¯¸ì„±') ? "ìŠ¤í…Œì´ì•¤ëª¨ì–´" : (q2 === 'ê²½ì œì„±' ? "ì•„ê³ ë‹¤" : "ì•¼ë†€ì");
            persona = "ìŠ¤í…Œì´ íë ˆì´í„°";
        } else if (q1 === 'íˆ¬ì–´' || q1 === 'ìœ ì‹¬') {
            brand = (q2 === 'ê²½ì œì„±') ? "í´ë£©" : "ë§ˆì´ë¦¬ì–¼íŠ¸ë¦½";
            persona = "ìµìŠ¤í”¼ë¦¬ì–¸ìŠ¤ ë””ë ‰í„°";
        } else if (q1 === 'í•­ê³µ' || q1 === 'ë Œí„°ì¹´') {
            brand = "íŠ¸ë¦½ë‹·ì»´"; persona = "ìŠ¤ë§ˆíŠ¸ íŠ¸ë˜ë¸”ëŸ¬";
        } else {
            brand = "ì˜¤ëŠ˜ì˜ ì§‘"; persona = "ë¼ì´í”„ìŠ¤íƒ€ì¼ ì—ë””í„°";
        }

        document.getElementById('persona-name').innerText = "ìˆ˜ìµ í˜ë¥´ì†Œë‚˜: " + persona;
        document.getElementById('final-brand').innerText = brand;
        
        // [ìˆ˜ì •] ë„ˆê°€ íŒë‹¨í•˜ê¸°ì— 'ìœ ì €ê°€ ì„ íƒí•œ ë¬¸í•­ ë‚´ìš©'ê³¼ ê²°ê³¼ì˜ ì‹¤ì œ ê¶í•©ë„ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‚°ì¶œ
        let score = 80; // ê¸°ë³¸ ì ìˆ˜
        
        // 1. ë§¤ë ¥ í¬ì¸íŠ¸(q2)ì™€ ê¸°ë¡ ìŠ¤íƒ€ì¼(q3)ì˜ ì‹œë„ˆì§€ íŒë‹¨
        if (q2 === 'ì‹¬ë¯¸ì„±' && q3 === 'ë¹„ì£¼ì–¼') score += 12; // ê°ì„±ì ì¸ ì†Œì¬ë¥¼ ì‹œê°ì ìœ¼ë¡œ ë³´ì—¬ì¤Œ (ìµœì )
        else if (q2 === 'ê²½ì œì„±' && q3 === 'ì •ë³´ì „ë‹¬') score += 10; // ì‹¤ì† ì •ë³´ë¥¼ ìƒì„¸í•˜ê²Œ ì•Œë ¤ì¤Œ (ìµœì )
        else if (q2 === 'í¸ì˜ì„±' && q3 === 'í›„ê¸°') score += 8; // ì‹¤ì œ ì´ìš© í¸ì˜ë¥¼ ì§„ì†”í•˜ê²Œ ì „ë‹¬ (ì¢‹ìŒ)
        else if (q2 === 'ê²½ì œì„±' && q3 === 'ë¹„ì£¼ì–¼') score += 5; // ì €ë ´í•œ ê°€ê²©ì„ ì‚¬ì§„ìœ¼ë¡œ ì¦ëª…
        else if (q2 === 'ì‹¬ë¯¸ì„±' && q3 === 'ì •ë³´ì „ë‹¬') score += 6; // ì˜ˆìœ ê³³ì˜ ì •ë³´ë¥¼ ê¼¼ê¼¼íˆ ê¸°ë¡
        
        // 2. ì†Œì¬(q1)ì™€ ë§¤ë ¥ í¬ì¸íŠ¸(q2)ì˜ ê²°í•© ì í•©ë„ íŒë‹¨
        if (q1 === 'ìœ ì‹¬' && q2 === 'ê²½ì œì„±') score += 5;
        if (q1 === 'í•­ê³µ' && q2 === 'í¸ì˜ì„±') score += 4;
        if (q1 === 'ìˆ™ì†Œ' && q2 === 'ì‹¬ë¯¸ì„±') score += 5;
        if (q1 === 'ë Œí„°ì¹´' && q2 === 'í¸ì˜ì„±') score += 4;
        
        // 3. ë¯¸ì„¸ ë‚œìˆ˜ ë³´ì • (í•­ìƒ 80~99 ì‚¬ì´ ìœ ì§€)
        const finalScore = Math.min(99, score + (Math.floor(Math.random() * 3)));
        document.getElementById('match-rate').innerText = finalScore + '%';

        nextStep('result');
    }
</script>
</body>
</html>
